<!DOCTYPE html>
<html lang="en" class="page-repl">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>REPL · 6to5</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <nav role="navigation" id="header" class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#navigation" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="index.html" class="navbar-brand logo"><span class="logo-six">6</span>to<span class="logo-five">5</span></a>
        </div>
        <div id="navigation" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="tour.html">Tour</a></li>
            <li><a href="usage.html">Usage</a></li>
            <li><a href="compare.html">Compare</a></li>
            <li><a href="caveats.html">Caveats</a></li>
            <li><a href="plugins.html">Plugins</a></li>
            <li class="active"><a href="repl.html">REPL</a></li>
            <li><a href="https://gitter.im/6to5/6to5">Support</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/6to5/6to5">Github</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="repl">
      <form class="form repl-options">
        <div class="pull-left">
          <div class="form-group">
            <label for="experimental">
              <input id="experimental" type="checkbox" checked> Experimental
            </label>
          </div>
          <div class="form-group">
            <label for="playground">
              <input id="playground" type="checkbox" checked> Playground
            </label>
          </div>
        </div>
        <div class="pull-right">
          <div class="form-group">
            <label for="examples">Examples:</label>
            <select id="examples">
              <option>Foo</option>
              <option>Bar</option>
              <option>Baz</option>
            </select>
          </div>
        </div>
      </form>
      <div class="repl-input">
        <pre class="editor"><code>import * as _ from 'lodash';

/**
 * @module namespace
 * @class namespace
 */
function Namespace() {}

/**
 * Regex for splitting keypaths into arrays.
 *
 * @private
 * @const {RegExp}
 * @type
 */
var KEYPATH_SPLITTER = /\./g;

/**
 * An internal cache to avoid calculating a keypath more than once.
 *
 * @private
 * @type {Object}
 */

var _keypaths = {};

_.extend(Namespace.prototype, {

  /**
   * Adds a definition to the namespace object.
   *
   * @public
   * @instance
   * @method add
   * @param {String} keypath - The keypath for the definition to be added at.
   * @param {Function|Object} definition - The definition to be added.
   * @return {Function|Object} - The definition.
   */
  add(keypath, definition) {
    return this._walk(keypath, function(memo, name, index, keypath) {
      if (index + 1 === keypath.length) {
        memo[name] = _.extend(definition, memo[name]);
      }
      return memo[name] || (memo[name] = {});
    });
  },

  /**
   * Retrieves a definition from the namespace safely.
   *
   * @public
   * @instance
   * @method get
   * @param {String} keypath - The keypath to lookup a definition for.
   * @returns {Function|Object|undefined} - The definition if it exists, otherwise `undefined`.
   */
  get(keypath) {
    return this._walk(keypath);
  },

  /**
   * An internal function for walking a keypath.
   *
   * @private
   * @instance
   * @method _walk
   * @param {String} keypath - The keypath to walk through.
   * @param {Function} [callback] - An optional callback to be called at each item in the path.
   * @returns {function|Object|undefined} - The reduced keypath.
   */
  _walk(keypath, callback) {
    return _.reduce(
      _keypaths[keypath] || (_keypaths[keypath] = keypath.split(KEYPATH_SPLITTER)),
      callback || function(memo, name) {
        return memo && memo[name];
      },
      this
    );
  }
});

export default Namespace;
</code></pre>
      </div>
      <div class="repl-output">
        <pre class="editor"><code>'use strict';

var _ = require('lodash');

/**
 * @module namespace
 * @class namespace
 */
function Namespace() {}

/**
 * Regex for splitting keypaths into arrays.
 *
 * @private
 * @const {RegExp}
 * @type
 */
var KEYPATH_SPLITTER = /\./g;

/**
 * An internal cache to avoid calculating a keypath more than once.
 *
 * @private
 * @type {Object}
 */
var _keypaths = {};

_.extend(Namespace.prototype, {

  /**
   * Adds a definition to the namespace object.
   *
   * @public
   * @instance
   * @method add
   * @param {String} keypath - The keypath for the definition to be added at.
   * @param {Function|Object} definition - The definition to be added.
   * @return {Function|Object} - The definition.
   */
  add: function(keypath, definition) {
    return this._walk(keypath, function(memo, name, index, keypath) {
      if (index + 1 === keypath.length) {
        memo[name] = _.extend(definition, memo[name]);
      }
      return memo[name] || (memo[name] = {});
    });
  },

  /**
   * Retrieves a definition from the namespace safely.
   *
   * @public
   * @instance
   * @method get
   * @param {String} keypath - The keypath to lookup a definition for.
   * @returns {Function|Object|undefined} - The definition if it exists, otherwise `undefined`.
   */
  get: function(keypath) {
    return this._walk(keypath);
  },

  /**
   * An internal function for walking a keypath.
   *
   * @private
   * @instance
   * @method _walk
   * @param {String} keypath - The keypath to walk through.
   * @param {Function} [callback] - An optional callback to be called at each item in the path.
   * @returns {function|Object|undefined} - The reduced keypath.
   */
  _walk: function(keypath, callback) {
    return _.reduce(
      _keypaths[keypath] || (_keypaths[keypath] = keypath.split(KEYPATH_SPLITTER)),
      callback || function(memo, name) {
        return memo && memo[name];
      },
      this
    );
  }
});

module.exports = Namespace;
</code></pre>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
    <div class="footer text-center"><p><a href="https://github.com/6to5/6to5">6to5</a> v1.15.0 · Distributed under MIT License</p>

    </div>
    <script src="scripts.js"></script>
  </body>
</html>